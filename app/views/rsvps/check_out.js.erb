$("#rsvp_<%= @rsvp.id %>").replaceWith("<%= escape_javascript(render partial: "rsvps/rsvp", locals: {rsvp: @rsvp}) %>");

$('.checkout').on('click', function(e) {
  e.preventDefault();
  e.stopPropagation();
  console.log($(this).data('id'))
  var url = '/rsvps/check_out';
  $.ajax({
    type: "POST",
    url: url,
    dataType: 'script',
    data: {
      'id': $(this).data('id'),
      'attended': false
    },
    success: function(result) {
      eval(result);
    },
  });
});

$('.edit').on('click', function(e) {
  e.preventDefault();
  e.stopPropagation();

  person_id = $(this).data('person-id');
  rsvp_id = $(this).data('rsvp-id');
  var url = '/people/' + person_id + '/edit';
  $.ajax({
    type: "GET",
    url: url,
    dataType: 'script',
    data: {
      'rsvp_id': rsvp_id
    },
    success: function(result) {
      eval(result);
    },
  });
});
